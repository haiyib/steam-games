<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Steam Sales Monitor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon: ðŸ‘¾ -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' x='.1em' font-size='90'%3EðŸ‘¾%3C/text%3E%3C/svg%3E">

    <!-- Merriweather for main title -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            margin: 0;
            background-color: #121212; /* changed to your dark gray */
            color: #ffffff;            /* default text color: white */
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        /* Centered content */
        .container {
            width: 900px;
            max-width: 100%;
            margin: 4em auto;
            padding: 0 1em;
        }

        h1 {
            text-align: center;
            font-size: 2.4em;
            margin: 1.5em 0 0.5em;
            font-family: "Merriweather", "Times New Roman", Times, serif;
            color: #ffffff;
        }

        h3 {
            text-align: center;
            font-weight: normal;
            color: #f0f0f0;
            margin-top: 0;
        }

        /* Subheading above the second chart */
        h2 {
            font-size: 1.6em;
            margin: 4em 0 0.5em; /* extra top margin to add space before second chart */
            font-weight: 600;
            color: #ffffff;
        }

        p {
            color: #f0f0f0;
            line-height: 1.5;
        }

        /* Wrapper around each chart, adds vertical space */
        .chart-wrapper {
            position: relative;
            width: 100%;
            overflow: hidden;
            margin: 2.5em 0; /* space above and below each chart */
        }

        .chart-wrapper iframe {
            width: 100% !important;
            border: none;
        }

        #footer {
            text-align: center;
            padding: 4em 1em;
            background-color: #121212; /* match page background */
            border-top: solid #111111 5px;
            font-size: 0.9em;
            color: #f0f0f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ® Steam Sales Monitor ðŸ‘¾</h1>
        <h3>Having a hard time choosing what game you should buy when it's on sale? <br>
            This page might be helpful for you.</h3>

        <!-- Intro paragraph for the whole page -->
        <p>
            Today, you suddenly want to find a game to play on Steam. But you don't have much money. <br>
            So, after a quick glance at your bank account, you opened up your Steam store, taking a look at the discount page. <br>
            It is ALWAYS free games like "Counter-Strike 2", "PUBG: BATTLEGROUNDS" on the top of the list.<br>
            Dang it! What can I do?? I can't find what game I want to buy!
        </p>

        <p>
            This page uses real Steam deal data to help answer that question. <br>
            The first chart shows the top 20 deals by deal rating, and draws a line from each gameâ€™s normal price to its sale price. <br>
            The second chart have every discounted game as a dot, with its release year on the x-axis and its sale price on the y-axis, so you can see how cheap older and newer games actually get during sales. <br>
            This page updates by every two hours.

        <!-- Current date and time will be inserted here by JavaScript -->
        <p id="current-datetime"></p>

        <div class="chart-wrapper">
            <iframe
                title="Top 20 Games on Steam By Deal Rating"
                aria-label="Range Plot"
                id="datawrapper-chart-QZJgA"
                src="https://datawrapper.dwcdn.net/QZJgA/2/"
                scrolling="no"
                frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;"
                height="420"
                data-external="1">
            </iframe>
        </div>

        <!-- First chart: scatter plot -->
        <div class="chart-wrapper">
            <iframe
                title="Steam Game Deals: How Much You Save vs. How Good the Deal Is"
                aria-label="Scatter Plot"
                id="datawrapper-chart-YapCM"
                src="https://datawrapper.dwcdn.net/YapCM/1/"
                scrolling="no"
                frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;"
                height="932"
                data-external="1">
            </iframe>
        </div>
    </div>

    <!-- Scripts -->
    <script type="text/javascript">
        // Set current date/time
        document.addEventListener("DOMContentLoaded", function () {
            var dtElem = document.getElementById("current-datetime");
            if (dtElem) {
                var now = new Date();
                var formatted = now.toLocaleString("en-US", {
                    year: "numeric",
                    month: "numeric",
                    day: "numeric",
                    hour: "numeric",
                    minute: "2-digit",
                    second: "2-digit",
                    hour12: true
                });
                dtElem.textContent = "Date: " + formatted;
            }
        });

        // Datawrapper auto-resize script (shared by both charts)
        window.addEventListener("message", function(a) {
            if (void 0 !== a.data["datawrapper-height"]) {
                var iframes = document.querySelectorAll("iframe");
                for (var key in a.data["datawrapper-height"]) {
                    for (var i = 0; i < iframes.length; i++) {
                        var iframe = iframes[i];
                        if (iframe.contentWindow === a.source) {
                            iframe.style.height = a.data["datawrapper-height"][key] + "px";
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
